<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>

<body>
    <canvas></canvas>
    <script>
        const canvas = document.querySelector('canvas');
        const ctx = canvas.getContext('2d');

        const width = canvas.width = window.innerWidth;
        const height = canvas.height = window.innerHeight;
        class Bar {
            constructor(widthBar, xBar, yBar,x_velBar,y_velBar) {
                this.widthBar = widthBar;
                this.xBar = xBar;
                this.yBar = yBar;
                this.x_velBar = x_velBar;
                this.y_velBar = y_velBar;
            };
            //xác định phương pháp vẽ thanh Bar
            drawBar() {
                ctx.beginPath();
                ctx.fillStyle = 'rgb(155,0,0)';
                ctx.fillRect(this.xBar, this.yBar, this.widthBar, 10);
                ctx.fill();

            };
            go_right() {
                if (this.xBar + 100 < width) {
                    this.xBar += 10;
                }
            };
            go_left() {
                if (this.xBar > 0) {
                    this.xBar -= 10;
                }
            }
            update() {
                if ((this.xBar + 10) >= width) {
                    this.velX = -(this.velX);
                }

                if ((this.x - this.size) <= 0) {
                    this.velX = -(this.velX);
                }

                if ((this.y + this.size) >= height) {
                    this.velY = -(this.velY);
                }

                if ((this.y - this.size) <= 0) {
                    this.velY = -(this.velY);
                }

                this.x += this.velX;
                this.y += this.velY;
            };
        }
        let bar = new Bar(100, (width / 2) + 10, height - 20,);
        bar.drawBar();
        function loop() {
            requestAnimationFrame(loop);
            $(document).keydown(function (e) {
                if ((e.keyCode || e.which) == 37) // left arrow
                {
                    bar.go_left();
                }
                else if ((e.keyCode || e.which) == 39)    // right arrow
                {
                    bar.go_right();
                }
            });
        }

        loop();
    </script>
</body>

</html>